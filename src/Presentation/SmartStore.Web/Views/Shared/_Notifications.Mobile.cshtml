@using SmartStore.Core.Logging;

@{
    // success messages
    var successMessages = this.GetMessages(NotifyType.Success).ToList();

	// error messages
    var errorMessages = this.GetMessages(NotifyType.Error).ToList();

    // warning messages
    var warningMessages = this.GetMessages(NotifyType.Warning).ToList();

}

@if (successMessages.Count > 0)
{
    var successSb = new System.Text.StringBuilder();
    for (int i = 0; i < successMessages.Count; i++)
    {
        successSb.Append(successMessages[i]);
        if (i != successMessages.Count - 1)
        {
            successSb.Append("\\n");
        }
    }
    <script type="text/javascript">
        $(document).ready(function () {
            alert('@Html.Raw(successSb.ToString())');
        });
    </script>
}
@if (errorMessages.Count > 0)
{
    var errorsSb = new System.Text.StringBuilder();
    for (int i = 0; i < errorMessages.Count; i++)
    {
        errorsSb.Append(errorMessages[i]);
        if (i != errorMessages.Count - 1)
        {
            errorsSb.Append("\\n");
        }
    }
    <script type="text/javascript">
        $(document).ready(function () {
            alert('@Html.Raw(errorsSb.ToString())');
        });
    </script>
}

@if (warningMessages.Count > 0)
{
    var warningsSb = new System.Text.StringBuilder();
    for (int i = 0; i < errorMessages.Count; i++)
    {
        warningsSb.Append(warningMessages[i]);
        if (i != warningMessages.Count - 1)
        {
            warningsSb.Append("\\n");
        }
    }
    <script type="text/javascript">
        $(document).ready(function () {
            alert('@Html.Raw(warningsSb.ToString())');
        });
    </script>
}
@Html.Widget("mobile_notifications")